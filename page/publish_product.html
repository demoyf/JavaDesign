<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>发布商品</title>
    <link href="../css/home_page/header_and_nav.css" rel="stylesheet">
    <script src="../js/jquery-1.3.2.min.js"></script>
    <script src="../js/home/header_model_js.js"></script>
    <script src="../js/mall/type_list_obj.js"></script>
    <script>
        $(function () {
            var typeList = getTypeList();
            var curFirst = 0;
            var curSecond = 0;
            updateSecondSelect();
            $('.title_input').bind('focus',function () {
                $(this).animate({width: "60%"}, 500);
            });
            $('.title_input').bind('blur',function () {
                $(this).animate({width: "27%"}, 500);
            });
            $('.detail_textarea').bind('focus',function () {
                $(this).animate({width: "60%", height: "8em"}, 500);
            });
            $('.detail_textarea').bind('blur',function () {
                if ($(this).val() == ''){
                    $(this).animate({width: "27%", height: "5em"}, 500);
                }
            });
            $('.choose_first_type').change(function () {
                var getSelect = $(this).children('option:selected').attr("id");
                switch (getSelect) {
                    case "type_1":
                        curFirst = 0;
                        break;
                    case "type_2":
                        curFirst = 1;
                        break;
                    case "type_3":
                        curFirst = 2;
                        break;
                    case "type_4":
                        curFirst = 3;
                        break;
                    case "type_5":
                        curFirst = 4;
                        break;
                    case "type_6":
                        curFirst = 5;
                        break;
                }
                curSecond = 0;
                updateSecondSelect();
            });
            $('.choose_second_type').change(function () {
                var getSelect = $(this).children('option:selected').attr("id");
                curSecond = (getSelect-10000);
                updateThirdSelect();
            });
            function updateThirdSelect() {
                var temp = typeList[curFirst];
                var thirdText = "";
                var which = temp[curSecond];
                var res = which.content;
                for(j = 0;j<res.length;j++) {
                    var rel_type = res[j];
                    thirdText+="<option id = '"+rel_type.id+"' value="+rel_type.id+">"+rel_type.name+"</option>";
                }
                $('.choose_third_type').html(thirdText);
            }
            function updateSecondSelect() {
                var temp = typeList[curFirst];
                var secondText = "";
                var thirdText = "";
                for(i = 0;i<temp.length;i++) {
                    var which = temp[i];
                    secondText += "<option id = '"+(10000+i)+"'>"+which.name+"</option>";
                    if(i==curSecond) {
                        var res = which.content;
                        for(j = 0;j<res.length;j++) {
                            var rel_type = res[j];
                            thirdText+="<option id = '"+rel_type.id+"' value="+rel_type.id+">"+rel_type.name+"</option>";
                        }
                    }
                }
                $('.choose_second_type').html(secondText);
                $('.choose_third_type').html(thirdText);
            }
        });
    </script>
    <style>
        .top_content {
            width: 99%;
            height: auto;
            /*background-color: aquamarine;*/
            position: absolute;
            display: block;
        }
        .publish_product_div {
            padding-left: 23%;
            padding-top: 1%;
            padding-bottom: 5%;
            width: 50%;
            height: auto;
            margin-left: 15%;
            margin-top: 12%;
            margin-bottom: 10%;
            /*background-color: red;*/
            background-color: white;
            border-radius: 10px;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.7);
            display: inline-block;
        }
        .publish_one_par {
            width: 80%;
            margin-top: 1%;
            display: block;
            float: left;
        }
        .publish_one_par .publish_title {
            width: 15%;
            text-align: center;
            float: left;
            color: rgba(0,0,0,0.77);
            font-weight: 100;
        }
        .publish_one_par .publish_content {
            margin-top: 3%;
            margin-left: 20%;
            width: 80%;
        }
        .publish_one_par .publish_content input {
            border-radius: 5px;
            border: 1px solid slateblue;
            padding: 0.3em;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1);
            font-size: 1em;
            color: rgba(0,0,0,0.7);
        }
        .publish_one_par .publish_content select {
            width: 29%;
            border-radius: 5px;
            border: 1px solid slateblue;
            padding: 0.3em;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1);
            font-size: 0.9em;
            float: left;
        }
        .title_input {
            width: 27%;
        }
        .cost_input ,.count_input{
            width: 27%;
        }
        textarea.detail_textarea {
            width: 27%;
            height: 5em;
            resize: none;
            border-radius: 5px;
            border: 1px solid slateblue;
            padding: 0.3em;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1);
            font-size: 1.3em;
        }
        span.to_left {
            float: left;
            color: slateblue;
            padding-top: 0.4em;
            font-weight: 800;
        }

        footer {
            width: 96%;
            background-color: slateblue;
            box-shadow: 4px 2px 10px #888888;
            border-radius: 10px;
            height: 80px;
            margin-left: 2%;
        }
        footer p {
            padding-top: 35px;
            vertical-align: middle;
            text-align: center;
            color: white;
            font-size: 1.2em;
        }
    </style>
</head>
<body>
<header>
    <span class="short_nav"></span>
    <div class="home_icon">
        <a href="../index.html" style="text-decoration: none;color: white">C2C</a>
    </div>
    <input type="text" placeholder="Search" name="search" class="nav_search_input">
    <span class="search_icon"></span>
    <span class="user_icon"></span>
    <!--修改为用户名-->
    <span class="login_or_register_string">
        <a href="login_page.html">登陆</a> ， <a href="login_page.html">注册</a>
    </span>
</header>
<div class="short_nav_show">
    <ul>
        <li><a href="../index.html">首页</a></li>
        <li><a href="goods_page.html">商城</a></li>
        <li><a href="#">发布商品</a></li>
        <li><a href="#">求购商品</a></li>
        <li><a href="#">我的购物车</a></li>
        <li><a href="#">反馈与意见</a></li>
        <li><a href="#">联系我们</a></li>
    </ul>
</div>
<nav class="my_nav">
    <ul>
        <li><a href="../index.html">首页</a></li>
        <li><a href="goods_page.html">商城</a></li>
        <li><a href="#">发布商品</a></li>
        <li><a href="#">求购商品</a></li>
        <li><a href="#">我的购物车</a></li>
        <li><a href="#">反馈与意见</a></li>
        <li><a href="#">联系我们</a></li>
    </ul>
</nav>
<div class="top_content">
    <div class="publish_product_div">
        <form>
            <div class="publish_one_par">
                <div class="publish_title">
                    <h3>商品名</h3>
                </div>
                <div class="publish_content">
                    <input type="text" class="title_input" name="title">
                </div>
            </div>
            <div class="publish_one_par">
                <div class="publish_title">
                    <h3>成色</h3>
                </div>
                <div class="publish_content">
                    <select class="choose_chengse" name="level">
                            <option value="3">三成</option>
                            <option value="4">四成</option>
                            <option value="5">五成</option>
                            <option value="6">六成</option>
                            <option value="7" selected >七成</option>
                            <option value="8">八成</option>
                            <option value="9">九成</option>
                            <option value="10">全新</option>
                    </select>
                </div>
            </div>
            <div class="publish_one_par">
                <div class="publish_title">
                    <h3>单价</h3>
                </div>
                <div class="publish_content cost_content">
                    <input type="text" class="cost_input" name="cost"><span>  RMB(.00)</span>
                </div>
            </div>
            <div class="publish_one_par">
                <div class="publish_title">
                    <h3>数量</h3>
                </div>
                <div class="publish_content">
                    <input type="text" class="count_input" name="count">
                </div>
            </div>
            <div class="publish_one_par">
                <div class="publish_title">
                    <h3>详情</h3>
                </div>
                <div class="publish_content">
                    <textarea class="detail_textarea" maxlength="122"
                              placeholder="留下联系方式,方便买家联系"></textarea>
                </div>
            </div>
            <div class="publish_one_par">
                <div class="publish_title">
                    <h3>分类</h3>
                </div>
                <div class="publish_content">
                    <select class="choose_first_type">
                        <option id="type_1" selected>数码科技</option>
                        <option id="type_2">影音家电</option>
                        <option id="type_3">鞋服配饰</option>
                        <option id="type_4">运动代步</option>
                        <option id="type_5">书籍文具</option>
                        <option id="type_6">其他</option>
                    </select><span class="to_left">--</span>
                    <select class="choose_second_type" >
                        <option >三成</option>
                        <option >四成</option>
                        <option >五成</option>
                        <option >六成</option>
                        <option  >七成</option>
                        <option >八成</option>
                        <option >九成</option>
                        <option >全新</option>
                    </select><span class="to_left">--</span>
                    <select class="choose_third_type" name="sort">
                        <option>三成</option>
                        <option>四成</option>
                        <option>五成</option>
                        <option>六成</option>
                        <option >七成</option>
                        <option>八成</option>
                        <option>九成</option>
                        <option>全新</option>
                    </select>
                </div>
            </div>
        </form>

    </div>
    <footer>
        <p>Copyright © 2014.Company name All rights reserved.</p>
    </footer>
</div>
</body>
</html>